import{e}from"./index-6400038e.js";import{t as p,r as w,a as g}from"./testComponentTL-6fcfc331.js";import{g as m}from"./filesToTest-e54ca7e1.js";import{f}from"./findCustomEvents-18f41d5f.js";import{h as z}from"./runtime-core.esm-bundler-8a2f4052.js";import"./shim-7e3475d3.js";import"./util-004fc0f1.js";import"./vue.runtime.esm-bundler-12250fee.js";import"./runtime-dom.esm-bundler-9a021e8b.js";import"./reactivity.esm-bundler-91732a87.js";import"./index-7ea524dd.js";import"./index-93c19621.js";import"./index-37df3fb2.js";import"./client-eba7b630.js";import"./mobx.esm-c867959f.js";import"./jsxUtilities-a811c57a.js";const d="",n=(await m(`/src/views/${d}searchResultsView.vue`))?.SearchResultsView||(await m(`/src/views/${d}searchResultsView.jsx`))?.SearchResultsView;describe("TW2.2.2 (array) rendering recap, fire custom events: SearchResultsView [test Vue](/tw2.2.2.html) [React](/tw2.2.2-react.html)",function(){this.timeout(2e5);const s=[{id:587203,title:"Taco Pizza",readyInMinutes:20,servings:6,sourceUrl:"https://laurenslatest.com/taco-salad-pizza-with-doritos/",openLicense:0,image:"https://laurenslatest.com/wp-content/uploads/2020/12/Taco-Pizza-02-copy.jpg"},{id:559251,title:"Breakfast Pizza",readyInMinutes:25,servings:6,sourceUrl:"http://www.jocooks.com/breakfast-2/breakfast-pizza/",openLicense:0,image:"https://www.jocooks.com/wp-content/uploads/2012/04/breakfast-pizza-1-1.jpg"},{id:556121,title:"Easy Vegetarian Sausage Basil Pizza",readyInMinutes:30,servings:4,sourceUrl:"https://dizzybusyandhungry.com/cashew-sausage-basil-pizza/",openLicense:0,image:"https://dizzybusyandhungry.com/wp-content/uploads/2021/01/easy-vegetarian-sausage-basil-pizza-title-pin.jpg"}],u=[{id:587203,title:"Taco Pizza",readyInMinutes:20,servings:6,sourceUrl:"https://laurenslatest.com/taco-salad-pizza-with-doritos/",openLicense:0,image:"https://laurenslatest.com/wp-content/uploads/2020/12/Taco-Pizza-02-copy.jpg"},{id:559251,title:"Breakfast Pizza",readyInMinutes:25,servings:6,sourceUrl:"http://www.jocooks.com/breakfast-2/breakfast-pizza/",openLicense:0,image:"https://www.jocooks.com/wp-content/uploads/2012/04/breakfast-pizza-1-1.jpg"}];p({vue:n},[{searchResults:u},{searchResults:s}],"SearchResultsView performs array rendering to display search results i.e. the dish image and dish name",function(t,i){const o=t.queryAllByRole("img");i?s.forEach(r=>{const c=t.queryByText(r.title);e(c,"SearchResultsView should render the titles for each dish").to.be.ok}):u.forEach(r=>{const c=t.queryByText(r.title);e(c,"SearchResultsView should render the titles for each dish").to.be.ok}),e(o.length,"SearchResultsView should render the same amount of images as the number of dishes it got").to.equal(i?s.length:u.length)}),p({vue:n},[{searchResults:s}],"SearchResultsView renders images with required attributes",function(t,i){t.queryAllByRole("img").forEach((r,c)=>{e(r?.__vnode?.props,"image expected to have attributes").to.be.ok,e(r?.__vnode?.props?.src,"Ensure that the image src is the correct path to the image from spoonacular").to.equal(s[c].image),e(r?.__vnode?.props?.height,"Image height must be 100").to.equal("100")})}),it("SearchResultsView fires custom event on dish click, send search result as parameter",function(){n||this.skip();const t=f(n,{searchResults:s}).span;let i;e(t.length,"SearchResultsView with three results should contain three spans with click handlers").to.equal(3),t.forEach((a,l)=>{e(a.customEventName,"expected custom event name").to.be.ok,e(a.customEventParams,"expected event param").to.be.ok,e(a.customEventParams[0],"expected params to equal the selected dish object").to.equal(s[l]),i=a.customEventName});let o;window.React={createElement:z},w({components:{SearchResultsView:n},template:"<SearchResultsView/>"},{props:{searchResults:s,[i]:function(a){o=a}},container:document.createElement("div")}).queryAllByRole("img").map(a=>a.parentElement).forEach((a,l)=>{g.click(a),e(o?.id,"clicking a span should send correct dish as parameter").to.equal(s[l].id),e(o?.title,"clicking a span should send correct dish as parameter").to.equal(s[l].title),o=void 0})}),it("SearchResultsView does not change its props during rendering",function(){n||this.skip();const t={searchResults:s},i=JSON.stringify(t);window.React={createElement(){return{}}},n(t),e(JSON.stringify(t),"SearchResultsView doesn't change its props during render").to.equal(i)})});
