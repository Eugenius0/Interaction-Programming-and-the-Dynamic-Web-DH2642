import{d as o}from"./dishesConst-c8e864fd.js";import{e,a as y}from"./index-6400038e.js";import{g as d}from"./filesToTest-e54ca7e1.js";import{t as b}from"./testComponentTL-6fcfc331.js";import"./shim-7e3475d3.js";import"./util-004fc0f1.js";import"./vue.runtime.esm-bundler-12250fee.js";import"./runtime-dom.esm-bundler-9a021e8b.js";import"./runtime-core.esm-bundler-8a2f4052.js";import"./reactivity.esm-bundler-91732a87.js";import"./index-7ea524dd.js";import"./index-93c19621.js";import"./index-37df3fb2.js";import"./client-eba7b630.js";import"./mobx.esm-c867959f.js";const w="",x=(await d(`/src/views/${w}summaryView.vue`))?.SummaryView||(await d(`/src/views/${w}summaryView.jsx`))?.SummaryView,C=(await d(`/src/views/${w}sidebarView.vue`))?.SidebarView||(await d(`/src/views/${w}sidebarView.jsx`))?.SidebarView,{dishType:q,menuPrice:v}=await d(`/src/${w}utilities.js`);describe("TW1.3 Array Rendering and basic CSS",function(){this.timeout(2e5);function g(s){document.body.appendChild(s);const n=s.style.display;s.style.display="block";const i=window.getComputedStyle(s);s.style.display=n,e(i.textAlign).to.equal("right","align quantities to the right using CSS"),document.body.removeChild(s)}b({vue:x},[{people:3,ingredients:o.ingrList1},{people:2,ingredients:o.ingrList2}],"SummaryView table content (render table rows to enable) [test UI with Vue](/tw1.3.1.html)[or React](/tw1.3.1-react.html)",function(n,i,h,l){const r=o.ingrList1.reduce(function(t,u){return{...t,[u.name]:u}},{}),a=n.queryAllByRole("row");a.length||l.skip(),l._runnable.title="SummaryView table content [test UI with Vue](/tw1.3.1.html)[or React](/tw1.3.1-react.html)",e(a.length,"there should be as many table rows as ingredients, preceded by one header row").to.equal(1+(i?o.ingrList2.length:o.ingrList1.length)),[...a].forEach(function(t,u){e(t.cells.length,"expecting 4 columns").to.equal(4),u===0?[...t.cells].forEach(function(m){e(m.tagName,"first row should be th").to.be.equal("TH")}):([...t.cells].forEach(function(m){e(m.tagName,"all rows except first should be td").to.be.equal("TD")}),e(r[t.cells[0].textContent.trim()],"expecting first column to show an ingredient name").to.be.ok,e(r[t.cells[0].textContent.trim()].aisle).to.equal(t.cells[1].textContent.trim(),"aisle must be shown in column 2"),e(r[t.cells[0].textContent.trim()].unit).to.equal(t.cells[3].textContent.trim(),"measurement unit must be shown in last column"),e((r[t.cells[0].textContent.trim()].amount*(i?2:3)).toFixed(2)).to.equal(t.cells[2].textContent.trim(),"amount must be shown in column 3, multiplied by number of guests"),e(t.cells[2].textContent.trim()[t.cells[2].textContent.trim().length-3]).to.equal(".","amount must be shown with two decimals, use (someExpr).toFixed(2)"),g(t.cells[2]))})}),b({vue:x},[{people:3,ingredients:o.ingrList1},{people:2,ingredients:o.ingrList2}],"SummaryView table order (render table rows to enable) [test UI with Vue](/tw1.3.1.html)[or React](/tw1.3.1-react.html)",function(n,i,h,l){const r=n.queryAllByRole("row"),[a,...t]=r;a||l.skip(),l._runnable.title="SummaryView table order [test UI with Vue](/tw1.3.1.html)[or React](/tw1.3.1-react.html)",e(t.length,"there should be as many table rows as ingredients").to.equal(i?o.ingrList2.length:o.ingrList1.length),t.forEach(function(u,m){if(!m)return;const c=u.querySelectorAll("td"),f=t[m-1].querySelectorAll("td");c[1].textContent.trim()===f[1].textContent.trim()?y.operator(c[0].textContent.trim(),">=",f[0].textContent.trim(),"when values in the 2nd (Aisle) column are equal, value in the first column (name) must be larger than or equal to value in the row above"):y.operator(c[1].textContent.trim(),">",f[1].textContent.trim(),"value in the second (Aisle) column must be larger than or equal to value in the row above")})});const p=o.dishes1.reduce(function(s,n){return{...s,[n.title]:{...n,type:q?.(n)}}},{});b({vue:C},[{number:3,dishes:o.dishes1},{number:2,dishes:o.dishes2}],"SidebarView table content [test UI with Vue](/tw1.3.2.html)[or React](/tw1.3.2-react.html)",function(n,i){const h=n.queryAllByRole("row");e(h.length,"there should be table rows for each dish, plus the row for the totals").to.equal(i?o.dishes2.length+1:o.dishes1.length+1),[...h].forEach(function(l,r,a){const t=l.cells;if(e(t.length).to.equal(4,"dish table must have 4 columns"),e(t[3].textContent.trim()[t[3].textContent.trim().length-3]).to.equal(".","price and total must be shown with two decimals, use (someExpr).toFixed(2)"),r==a.length-1){e(t[3].textContent.trim()).to.equal((v(i?o.dishes2:o.dishes1)*(i?2:3)).toFixed(2),"last row must show total menu price multiplied by number of guests"),g(t[3]);return}e(p[t[1].textContent.trim()],"second column must contain a dish name").to.be.ok,e(p[t[1].textContent.trim()].type).to.equal(t[2].textContent.trim(),"3rd column must show dish type"),e((p[t[1].textContent.trim()].pricePerServing*(i?2:3)).toFixed(2)).to.equal(t[3].textContent.trim(),"last column must show total menu price multiplied by number of guests"),e(t[1].firstElementChild?.tagName,"dish name should be a HTML link (<a>)").to.equal("A"),e(t[1].firstElementChild?.getAttribute("href").startsWith("#"),"dish name HTML link should point to the same page (#) to prevent full page reload").to.equal(!0),g(t[3])})}),b({vue:C},[{number:3,dishes:o.dishes3},{number:4,dishes:o.dishes1}],"SidebarView table order [test UI with Vue](/tw1.3.2.html)[or React](/tw1.3.2-react.html)",function(n,i){const[h,...l]=n.queryAllByRole("row");e(l.length,"there should be table rows for each dish, plus the row for the totals").to.equal(i?o.dishes1.length:o.dishes3.length);const r=["starter","main course","dessert"];l.forEach(function(a,t,u){if(!t||t==u.length-1)return;const m=a.querySelectorAll("td"),c=l[t-1].querySelectorAll("td");y.operator(r.indexOf(m[2].textContent.trim()),">=",r.indexOf(c[2].textContent.trim()),"expecting value in 3rd column to be bigger than or equal to the value on the row above")})})});
